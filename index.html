<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="description" content="A tool giving Mastodon users visibility into how federated moderation applies to them" />
    <meta charset="utf-8">
    <title>Who Moderates My Posts and Timeline?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Robert Ricci">

    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/control.css">

    <script type="text/javascript" src="helpers.js"></script>
    <script type="text/javascript" src="fedi-helpers.js"></script>
    <script type="text/javascript" src="index.js"></script>
</head>

<body>
  
    <h1>Who Moderates My Posts and Timeline?</h1>

    <div class="overview">
        <p>
            This tool helps you see how moderation choices made by different communities on the Fediverse affect what shows up in your timeline.
        </p>
        <p>
            Moderation on the Fediverse is decentralized. Each community makes its own rules and has its own moderators.
            Moderators do important work that often happens behind the scenes:
            they follow their community’s rules to remove harmful or unwanted content and to help people treat each other with respect.
        </p>
    </div>

    <noscript>
      <div style="color: red; font-weight: bold; text-align: center">
        ⚠️ JavaScript is disabled in your browser. Please enable it to use this site properly.
      </div>
    </noscript>

    <div class="form" id="inputform">
      <form class="form" action="javascript:void(0);">
        <input type="text" id="username" name="username" placeholder="@user@mastodon.server" width=50>
            <input type="button" value="Find Out!" id="submit" onclick="populatePage(document.getElementById('username').value,document.getElementById('token').value)"> <a href="#" onclick="javascript:toggleAdvanced();">(advanced)</a>
        <div class="container"><div id="advanced" class="infobox" style="display:none">
            <h3>Advanced Mode: Access Token</h3>
            <p>Advanced Mode authenticates you to your server and adds two features: it allows the tool to see your social graph even if you have set it to private,
               and it adds more detailed statistics based on the posts in your feed in the last day.</p>
            <p>To create a token, in the Mastodon web interface go to "Preferences", "Development", "New Application." Pick any name, and give the token "Read" access to your account. Click "Submit", then click on the name of your new application. Cut and paste "Your access token" into this box.
            </p>
            <p> 
                The reason for this complicated process is that this tool is unable to support the OAuth flows supported by Mastodon
                because it is has no server component (it is a "public client" in OAuth terms, and Mastodon only currently supports "confidential clients").
            </p>
            <p>
               This token will <i>only</i> be sent to your home Mastodon server, and will not be sent to the operator of this website. You may still wish to delete it when finished for safety.
            </p>
            <input type="text" id="token" name="token" placeholder="access token" width=50>
        </div></div>
      </form>
    </div>
    <div id="results">

      <div id="you" class="resetInvis" style="display:none">
        <h2>It Starts With You</h2>
        <p>
          You can mute or block <a href="https://docs.joinmastodon.org/user/moderating/#blocking-and-muting">individual accounts</a>
          or <a href="https://docs.joinmastodon.org/user/moderating/#block-domain">whole servers</a> so they don’t show up in your feed. 
        </p>
        <p>
          You can also <a href="https://docs.joinmastodon.org/user/moderating/#report">report content</a> to the moderators of your own server, or to the server where the content was posted.
          Moderators look at these reports based on their community’s rules.
        </p>
      </div>

      <div id="instanceblock" class="resetInvis" style="display:none">
        <h2>Your Server</h2>

          <div class="container">
            <div class="sidebyside infobox serverbox">
                <h3><a id="instancelink"></a></h3>
                <h4><a id="aboutlink"></a></h4>
                <h4><a id="privlink"></a></h4>
                <h4><a id="toslink"></a></h4>
                <table>
                  <tr>
                    <th>Admin Contact</th>
                    <td id="adminacct"></td>
                  </tr>
                  <tr>
                    <th>Email Contact</th>
                    <td id="adminemail"></td>
                  </tr>
                  <tr>
                    <th>Active Users</th>
                    <td id="mau"></td>
                  </tr>
                  <tr>
                    <th>Posts Last Week</th>
                    <td id="weeklyposts"></td>
                  </tr>
                  <tr>
                    <th>Peer Servers</th>
                    <td id="peers"></td>
                  </tr>
                  <tr>
                    <th>New Signups</th>
                    <td id="regstatus"></td>
                  </tr>
                  <tr>
                    <th>Blocked Servers</th>
                    <td id="blockedservers"></td>
                  </tr>
                </table>
            </div>
            <div class="sidebyside">
                <p>
                    Your local administrators are responsible for maintaining community rules on the server.
                    They can take actions like <i>blocking</i> or <i>suspending</i> accounts, <i>deleting</i> posts,
                    or limiting access from <i>individual accounts</i> or <i>whole servers</i>.
                </p>
                <p>
                    Running a community takes time and effort.
                    The amount of work depends on things like how many <i>users are active</i>, how many <i>posts are made</i>, and how many reports come in from users or moderators on <i>peer servers</i> across the wider Fediverse.
                </p>
            </div>
        </div>
      </div>

      <div id="followers" class="resetInvis" style="display:none">
        <h2>Your Followers And Their Servers</h2>
        <div class="container resetInvis" id="followersBody">
            <div class="sidebyside infobox">
                <h3>You have <span id="followercount"></span> followers
                    on <span id="followerservers"></span> servers</h3>
                <table>
                     <thead>
                        <tr>
                            <th>Server</th>
                            <th>Followers</th>
                            <th>Percent</th>
                        </tr>
                     </thead>
                     <tbody class="resetClear" id="followerbody">
                     </tbody>
                 </table>
            </div>


            <div class="sidebyside">
                <p>
                    When you publish a post, your server sends it to the servers where your followers are.
                    Each server in the Fediverse works on its own.
                    This means that even if a post is allowed on your server, it might be handled differently on other servers.
                </p>
                <p>
                    The moderators on those servers may use their own rules to check the post.
                    They might <i>filter</i> it, <i>hide</i> it, or even <i>block</i> it if it breaks their community standards.
                    They can <i>block your account</i>, or your entire <i>server</i> and everyone on it.
                </p>
                <p>
                    If you have a lot of followers on a certain server, your posts are more likely to be checked by that server’s moderators. The table shows which servers share your posts the most.
                </p>
            </div>

          </div>
        <div class="container resetInvis" id="followersNone" style="display:none">
            <p>We didn't find any accounts that are following you - this can happen if you really don't have any followers, or if you have following information on your account set to private. Reload and see the "advanced" option for a way to access this information.</p>
        </div>
      </div>

      <div id="following" class="resetInvis" style="display:none">
        <h2>Those You Follow And Their Servers</h2>

        <div class="container resetInvis" id="followingBody">
          <div class="sidebyside infobox">
              <h3>You follow <span id="followcount"></span> accounts
                  on <span id="followservers"></span> servers</h3>
              <table>
                   <thead>
                      <tr>
                          <th>Server</th>
                          <th>Following</th>
                          <th>Percent</th>
                      </tr>
                   </thead>
                   <tbody class="resetClear" id="followbody">
                   </tbody>
               </table>
          </div>


          <div class="sidebyside">
              <p>
                  Posts from the accounts you follow are sent to you by the servers those accounts use. 
                  Those servers each have their own rules and can <i>block your account</i> from seeing posts, or <i>block entire servers</i>, including yours.
                  The accounts you follow might also be <i>removed</i> or have their <i>posts deleted</i> if they break that server’s community guidance.
              </p>
          </div>

        </div>
        <div class="container resetInvis" id="followingNone" style="display:none">
            <p>We didn't find any accounts that you're following - this can happen if you really don't follow any accounts, or if you have following information on your account set to private. Reload and see the "advanced" option for a way to access this information.</p>
        </div>
      </div>

      <div id="timeline" class="resetInvis" style="display:none">
        <h2>Your Timeline</h2>
        <p>The following boxes summarize the specific posts that have appeared in your timeline in the last 24 hours</p>

        <div class="container resetInvis" id="timelineBody">
          <div class="sidebyside infobox">
              <h3>You saw <span id="timelinePostCount"></span> posts from <span id="timelineAccountCount"></span> accounts
                  on <span id="timelineServers"></span> servers</h3>
              <table>
                   <thead>
                      <tr>
                          <th>Server</th>
                          <th>Posts</th>
                          <th>Percent</th>
                      </tr>
                   </thead>
                   <tbody class="resetClear" id="timelinebody">
                   </tbody>
               </table>
          </div>
          <div class="sidebyside infobox">
              <h3>You saw original posts from <span id="timelineOPCount"></span> accounts</h3>
              <table>
                   <thead>
                      <tr>
                          <th>Server</th>
                          <th>Posts</th>
                          <th>Percent</th>
                      </tr>
                   </thead>
                   <tbody class="resetClear" id="timelineTopPosterBody">
                   </tbody>
               </table>
          </div>
          <div class="sidebyside infobox">
              <h3>You saw boosts from <span id="timelineBoosterCount"></span> accounts</h3>
              <table>
                   <thead>
                      <tr>
                          <th>Server</th>
                          <th>Posts</th>
                          <th>Percent</th>
                      </tr>
                   </thead>
                   <tbody class="resetClear" id="timelineTopBoosterBody">
                   </tbody>
               </table>
          </div>
        </div>
        <div class="container resetInvis" id="timelineNone" style="display:none">
            <p>We didn't find posts in your timeline</p>
        </div>
      </div>


    <div id="coda" class="resetInvis" style="display:none">
        <h2>Decentralized Moderation</h2>
        <p>
          Every server in the Fediverse has its own rules and moderation style.
          These are based on what the community values and needs.
          This variety is one of the strengths of decentralized platforms. 
        </p>
        <p>
          Moderation is important, but it can also be hard work and stressful or upsetting.
          About 99% of Fediverse moderators are volunteers, and around 1 in 5 report feeling burned out or traumatized each year. 
        </p>
        <p>
           You can help by reporting content that breaks your server’s rules.
           Some servers accept donations, and may even be looking for volunteers to help moderate.
           Simply thanking your moderators can make a real difference!
        </p>
    </div>

    <div class="loading" class="restInvis" id="loading">Loading <span id="loadWhat"></span> <div class="loader"></div></div>
    <div id="errors" class="resetInvis" style="display:none"></span></div>

      <div id="about">
        <h3>How Does This Work?</h3>
        <p>
            This tool works by querying the <a href="https://docs.joinmastodon.org/api/">public Mastodon APIs</a> on the account's server; thus, at this time,
            it is only expected to work with Mastodon instances (sorry).
            In basic mode, it does so without authenticating, so it can only see information made public by the server admins and/or account holders.
            Some servers do not publicly
            report information such as activity, and some accounts have their
            following and followers relationships hidden.
        </p>

        <h3>Privacy</h3>
        <p>
            All work is done entirely in your browser; no information is sent
            to the operator of this website. The only server contacted is the
            one that hosts the account.
         </p>
                
        <h3>Who Made This?</h3>
        <p>
            Made with 🐈 by <a href="https://discuss.systems/@ricci">@ricci@discuss.systems</a> . Source on <a href="https://codeberg.org/ricci/moderation-explorer">Codeberg</a>
        </p>
      </div>

      <span id="debug" style="visibility:hidden"></span>
    </div>


    <script></script>
  
</body>
</html>
